port=69
enable-tftp
tftp-root=/data/tftp
tftp-no-blocksize
tftp-single-port
user=nobody
group=nogroup
log-facility=/dev/stdout
log-queries

# ===============================================
# DHCP Server Configuration
# ===============================================
# Primary VLAN (192.168.1.0/24) - dnsmasq on this VLAN
dhcp-range=192.168.1.100,192.168.1.200,255.255.255.0,24h

# Boot VLAN (10.10.50.0/24) - for cross-VLAN support (requires router DHCP relay)
dhcp-range=10.10.50.100,10.10.50.200,255.255.255.0,24h

# ===============================================
# PXE/UEFI Boot Detection
# ===============================================
dhcp-match=set:bios,option:client-arch,0
dhcp-match=set:efi32,option:client-arch,6
dhcp-match=set:efibc,option:client-arch,7
dhcp-match=set:efi64,option:client-arch,9
dhcp-match=set:arm64,option:client-arch,0x0b
dhcp-match=set:ipxe,175

# ===============================================
# Boot File Delivery
# ===============================================
dhcp-boot=tag:ipxe,boot.ipxe
dhcp-boot=tag:bios,undionly.kpxe
dhcp-boot=tag:efi64,ipxe.efi
dhcp-boot=tag:efi32,ipxe.efi
dhcp-boot=tag:efibc,ipxe.efi


